# 🏝️ 島嶼創建器完整指南

## 📍 訪問方式

### 方法一：主頁入口
在遊戲主頁面左上角，點擊 **🎨 調色盤圖標**

### 方法二：直接訪問
```
http://localhost:3000/island-creator
```

---

## ✨ 全部功能一覽

### 1. 🎨 自由繪製系統
- **功能**：在 2D 畫布上自由繪製島嶼輪廓
- **操作**：點擊並拖動滑鼠來繪製
- **閉合**：點擊起點或完成按鈕
- **提示**：網格參考線 + 中心十字線

### 2. 📋 預設形狀庫（8種範本）
一鍵選擇常見形狀：
- ❤️ **心形** - 浪漫的心形島嶼
- ⭐ **星形** - 閃耀的星星島嶼
- ⭕ **圓形** - 經典的圓形島嶼
- 🐾 **貓掌** - 可愛的貓咪肉球
- 🌙 **月牙** - 神秘的月牙島嶼
- 🦋 **蝴蝶** - 優雅的蝴蝶形島嶼
- 🌸 **花朵** - 美麗的花朵島嶼
- 🍃 **葉子** - 自然的葉子形狀

### 3. 🎨 紋理系統（6種紋理）
選擇不同的島嶼主題：
- 🌿 **草地** (#90C695) - 綠意盎然
- 🏖️ **沙灘** (#F4E4C1) - 金色沙灘
- ❄️ **雪地** (#E8F4F8) - 冰雪世界
- 🗻 **岩石** (#8B7355) - 堅實山岩
- 🌸 **花園** (#FFB6C1) - 粉色花海
- 🍂 **秋葉** (#D2691E) - 秋天氣息

### 4. 🎚️ 高度控制
- **範圍**：0.5 - 5.0
- **效果**：調整島嶼的垂直厚度
- **建議**：2.0 為標準高度

### 5. 📐 斜率控制
- **範圍**：0.0 - 2.0
- **效果**：調整島嶼邊緣的圓潤度
- **建議**：0.5 為適中斜率

### 6. 🎨 自訂顏色
- **功能**：使用顏色選擇器自由選色
- **即時預覽**：顏色立即套用到 3D 模型

### 7. 💾 保存功能（LocalStorage）
- **操作**：點擊「保存」按鈕
- **輸入**：為島嶼命名
- **儲存位置**：瀏覽器本地儲存
- **保存內容**：
  - 島嶼形狀點座標
  - 顏色/紋理
  - 高度/斜率參數
  - 島嶼名稱

### 8. 📂 載入功能
- **操作**：點擊「載入」按鈕
- **選擇**：從已保存的島嶼列表中選擇
- **快速恢復**：所有設定一次載入

### 9. 📥 3D 模型導出
- **格式**：GLTF (.gltf)
- **用途**：可導入其他 3D 軟體
- **檔案名**：使用島嶼名稱.gltf
- **內容**：完整的 3D 幾何體和材質

### 10. 👀 即時 3D 預覽
- **旋轉**：左鍵拖動
- **縮放**：滾輪
- **平移**：右鍵拖動
- **環境**：夕陽光照 + 海洋平面 + 網格輔助

---

## 🎯 使用流程

### 快速開始
```
1. 點擊主頁左上角 🎨 圖標
2. 選擇預設形狀 或 點擊「開始繪製」
3. 調整紋理、顏色、高度、斜率
4. 預覽 3D 效果
5. 保存或導出你的島嶼！
```

### 詳細步驟

#### 步驟 1：選擇創建方式
- **方式 A**：點擊「📋 預設形狀」→ 選擇範本
- **方式 B**：點擊「🎨 開始繪製」→ 自由繪製

#### 步驟 2：繪製島嶼（如選擇自由繪製）
1. 在畫布上點擊並拖動
2. 繪製完整輪廓
3. 點擊起點閉合（或點完成按鈕）

#### 步驟 3：自訂外觀
- 選擇**紋理**（草地/沙灘/雪地等）
- 調整**顏色**（使用色彩選擇器）
- 調整**高度**（滑桿 0.5-5.0）
- 調整**斜率**（滑桿 0.0-2.0）

#### 步驟 4：預覽與調整
- 3D 視圖即時更新
- 使用滑鼠控制視角
- 反覆調整直到滿意

#### 步驟 5：保存或導出
- **💾 保存** - 儲存到本地，隨時載入
- **📥 導出3D** - 下載 GLTF 檔案
- **🗑️ 清空** - 重新開始

---

## 🔧 技術實現

### 核心技術棧
- **2D 繪圖**：Canvas API
- **3D 渲染**：Three.js + React Three Fiber
- **幾何生成**：ExtrudeGeometry（2D → 3D）
- **導出**：GLTFExporter
- **儲存**：LocalStorage API

### 轉換流程
```
Canvas 繪圖點
  → 歸一化座標 (-1 到 1)
  → THREE.Shape 創建
  → ExtrudeGeometry 擠出
  → 應用材質和光照
  → 完整 3D 島嶼
```

### 檔案結構
```
frontend/src/
├── pages/IslandCreator/
│   └── index.tsx              # 主頁面
├── components/
│   ├── IslandDrawer.tsx       # 2D 繪圖界面
│   └── 3D/
│       ├── CustomIsland.tsx   # 自訂島嶼 3D 組件
│       └── ...
├── utils/
│   └── islandShapePresets.ts  # 預設形狀庫
└── pages/IslandOverview/
    └── index.tsx              # 主頁（包含入口）
```

---

## 🎨 預設形狀範例

### 心形島嶼
```typescript
const heartShape = [
  { x: 0, y: 0.3 },
  { x: -0.3, y: 0.6 },
  { x: -0.6, y: 0.5 },
  // ... 更多點
]
```

### 星形島嶼
```typescript
const starShape = [
  { x: 0, y: 0.8 },
  { x: 0.2, y: 0.25 },
  { x: 0.75, y: 0.25 },
  // ... 更多點
]
```

---

## 💡 使用技巧

### 繪製技巧
1. **慢速繪製** - 點更均勻，形狀更平滑
2. **參考網格** - 利用網格保持對稱
3. **少即是多** - 20-50 個點通常足夠

### 參數調整建議
- **高度 2.0 + 斜率 0.5** - 標準肉球島
- **高度 3.5 + 斜率 1.0** - 高聳山島
- **高度 1.0 + 斜率 0.2** - 扁平小島
- **高度 4.0 + 斜率 1.5** - 戲劇性地形

### 紋理搭配建議
- **草地** + **綠色系** = 森林島
- **沙灘** + **黃色系** = 度假島
- **雪地** + **藍白色** = 冰雪島
- **花園** + **粉紅色** = 浪漫島

---

## 🐛 常見問題

### Q: 島嶼太小/太大？
**A**: 調整 `CustomIsland.tsx` 中的 `scaleFactor`（預設 20）

### Q: 如何讓島嶼更圓潤？
**A**: 增加**斜率**參數到 1.0-1.5

### Q: 繪製的形狀不夠平滑？
**A**: 繪製時放慢速度，讓系統捕捉更多點

### Q: 保存的島嶼在哪裡？
**A**: 儲存在瀏覽器 LocalStorage 中，清除瀏覽器資料會遺失

### Q: 可以導出為其他格式嗎？
**A**: 目前僅支援 GLTF，可用 Blender 等軟體轉換

### Q: 導出的模型沒有顏色？
**A**: 某些 3D 軟體需要手動啟用材質顯示

---

## 🚀 未來擴展

### 計畫中的功能
- ✅ ~~保存到本地~~ (已完成)
- ✅ ~~預設形狀庫~~ (已完成)
- ✅ ~~高度/斜率控制~~ (已完成)
- ✅ ~~紋理系統~~ (已完成)
- ✅ ~~導出 3D 模型~~ (已完成)
- 🔜 保存到資料庫（後端整合）
- 🔜 島嶼分享功能
- 🔜 貼圖上傳（真實紋理）
- 🔜 多層地形（山谷、高原）
- 🔜 水域系統（湖泊、河流）

### 進階自訂
想要更多控制？編輯這些檔案：
- `CustomIsland.tsx` - 3D 渲染邏輯
- `islandShapePresets.ts` - 新增預設形狀
- `IslandCreator/index.tsx` - 新增控制項

---

## 📸 截圖示例

### 主界面
```
┌─────────────────────────────────────┐
│ ← 返回  🏝️ 島嶼創建器              │
│ ─────────────────────────────────── │
│ [🎨 開始繪製] [📋 預設形狀]         │
│ [紋理: 🌿 草地▼] [顏色: ■]         │
│ [高度: ━━●━━ 2.0] [斜率: ━━●━━ 0.5]│
│ ─────────────────────────────────── │
│                                     │
│         【3D 預覽視圖】             │
│                                     │
│          [旋轉的島嶼模型]           │
│                                     │
│ ─────────────────────────────────── │
│ [📂 載入] [💾 保存] [📥 導出] [清空]│
└─────────────────────────────────────┘
```

---

## 🎓 教學影片（腦補）

1. **基礎繪製教學**（5 分鐘）
2. **預設形狀速覽**（3 分鐘）
3. **進階參數調整**（8 分鐘）
4. **導出與使用**（4 分鐘）

---

## 🙏 感謝使用

**享受創作你的專屬島嶼吧！** 🏝️✨

有任何問題或建議，歡迎在 Issues 中提出！
