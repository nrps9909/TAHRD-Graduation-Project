# TAHRD-Graduation-Project-
組員：陳廷安、呂沛修、劉禹岑、黃紫馨  
指導老師：蔡芸琤教授  



# LLM互動式線上回饋與分析系統

## 目錄

0. [簡介](#文件範圍)
1. [專案概述](#專案概述)
2. [系統架構](#系統架構)
3. [功能需求](#功能需求)
   - 3.1 學生端功能與頁面
   - 3.2 教師端功能與頁面
   - 3.3 後端系統功能
4. [非功能需求](#非功能需求)
5. [系統軟體環境需求](#系統軟體環境需求)
6. [技術規格](#技術規格)
   - 6.1 前端技術
   - 6.2 後端技術
7. [安全性與隱私保護](#安全性與隱私保護)
8. [部署與運維](#部署與運維)
9. [風險評估與緩解措施](#風險評估與緩解措施)
10. [開發計畫與里程碑](#開發計畫與里程碑)

---
## 文件範圍
本文件為互動式線上回饋系統的產品規格書，詳細說明了系統的功能需求、技術規格、開發計畫等內容，為開發團隊提供指導和參考。

## 軟體動機
在現代教育中，了解學生的情感和心理狀況對於提升教學品質至關重要。然而，傳統的教學方式難以及時收集和分析學生的反饋。隨著科技的進步，應用語音識別和自然語言處理技術，可以更有效地收集學生的語料，並提供有價值的回饋，從而改善教學效果。

## 軟體目的
本軟體旨在為教師和學生提供一個互動平台，透過錄音、語音轉文字和大型語言模型的分析，收集並分析學生的討論內容。系統為學生提供個性化的回饋，協助教師了解學生對教案的理解程度，進而提升教學互動性和教學品質。

## 專案概述

本專案旨在開發一個**LLM互動式線上回饋分析系統**，主要功能包括：

- 收集現代學生的語料，用於研究青少年的情感與心理狀況。
- 透過大型語言模型（LLM）對學生的討論內容和教師的教案進行分析、分類和回饋。
- 引導學生朝正確的方向思考，提升教學互動性，協助教師了解學生對教案的理解。



## 系統架構

系統主要分為三個部分：

1. **學生端網頁應用程式（平板）**
   - 用於錄音、上傳語音、接收回饋。

2. **教師端管理介面**
   - 用於設定討論題目、上傳教案 PDF、管理學生分組與查看分析報告。

3. **後端系統**
   - 負責處理所有業務邏輯，包括語音轉文字、與 LLM 的交互、資料儲存與管理。

學生流程：
1. 登入 → 2. 查看討論題目和分組 → 3. 開始錄音討論 → 4. 上傳錄音 → 5. 等待回饋 → 6. 查看 LLM 生成的回饋

教師流程：
1. 登入 → 2. 上傳教案與設定討論題目 → 3. 管理分組 → 4. 查看學生回饋 → 5. 查看 LLM 生成的分析報告

---

## 功能需求

### 3.1 學生端功能與頁面

#### 3.1.1 登入頁面

**功能描述：**

- **用戶驗證**：學生使用學校提供的帳號和密碼進行登入。
- **帳號記憶**：可選擇記住帳號，方便下次快速登入。
- **錯誤提示**：當輸入錯誤時，給予明確的錯誤信息。

#### 3.1.2 主頁面（討論首頁）

**功能描述：**

- **顯示當前討論題目**。
- **顯示分組信息**。
- **進入錄音**：提供進入錄音頁面的入口。

#### 3.1.3 錄音頁面

**功能描述：**

- **錄音功能**：錄製討論聲音。
- **錄音控制**：開始、暫停、停止錄音。
- **錄音時間顯示**。
- **上傳功能**：錄音結束後，上傳語音。

#### 3.1.4 回饋頁面

**功能描述：**

- **顯示 LLM 生成的個人回饋**。
- **非即時回饋**：錄音上傳後，經過後端處理，回饋將在稍後出現在回饋區。
- **幫助學生自我提升**：透過回饋了解自己的討論表現和改進方向。

#### 3.1.5 個人資料頁面

**功能描述：**

- **查看個人信息**。
- **設置選項**：應用設定、通知設定等。
- **登出功能**。

---

### 3.2 教師端功能與頁面

#### 3.2.1 登入頁面

**功能描述：**

- **用戶驗證**：教師使用帳號和密碼登入。

#### 3.2.2 教師主頁面

**功能描述：**

- **總覽**：提供系統的總體概況。
- **快捷入口**。

#### 3.2.3 教案上傳與題目設定頁面

**功能描述：**

- **上傳教案 PDF**：教師可上傳與討論題目相關的教案資料。
- **新增、編輯、刪除題目**。
- **題目與教案關聯**：將上傳的教案與特定的討論題目關聯。

#### 3.2.4 分組管理頁面

**功能描述：**

- **查看和編輯分組**。
- **自動分組**。

#### 3.2.5 學生回饋與分析報告查看頁面

**功能描述：**

- **查看LLM對每位學生的回饋**。
- **過濾和搜索**。
- **導出數據**。
- **查看 LLM 生成的全體學生討論分析報告**。
- **了解整體學生對教案的理解程度**。

---

### 3.3 後端系統功能

#### 3.3.1 使用者認證與授權

**功能描述：**

- **登入與登出**。
- **身份驗證**。
- **權限控制**。

#### 3.3.2 API 設計與實作

**功能描述：**

- 提供 RESTful API。

#### 3.3.3 語音檔案上傳與儲存

**功能描述：**

- 接收學生上傳的語音檔案。

#### 3.3.4 語音轉文字（STT）處理

**功能描述：**

- 將語音檔案轉換為文字。

**實作方式：**

- 使用開源的語音轉文字工具，例如 **Mozilla DeepSpeech** 或 **Kaldi**。

#### 3.3.5 與大型語言模型（LLM）的整合

**功能描述：**

- 將轉錄文字和教師上傳的教案內容傳送至 LLM，獲取對學生討論內容的分析和回饋。

**實作方式：**

- 使用開源的 LLM，例如 **GPT-J** 或 **GPT-Neo**。

#### 3.3.6 資料庫管理

**功能描述：**

- 儲存用戶、語音、轉錄、分析結果、教案等資料。

**實作方式：**

- 使用 **MongoDB** 或 **MySQL** 等免費資料庫。

#### 3.3.7 回饋生成與推送

**功能描述：**

- 將 LLM 生成的回饋提供給學生端和教師端。

**實作方式：**

- 學生端和教師端通過 API 獲取回饋。

#### 3.3.8 教師端功能支援

**功能描述：**

- 支持教師設定題目、上傳教案、分組，查看分析報告。

#### 3.3.9 日誌記錄與監控

**功能描述：**

- 記錄系統運行情況。

**實作方式：**

- 使用 **ELK 堆疊**（Elasticsearch、Logstash、Kibana）進行日誌管理。

#### 3.3.10 安全性與隱私保護

**功能描述：**

- 確保用戶資料和語料的安全。

---

## 非功能需求

- **高可用性**：系統需在課堂時間內保持穩定運行。
- **合理延遲**：語音上傳後，需在 **15 分鐘內** 完成轉換與回饋。
- **可擴展性**：支持多班級同時使用。
- **安全性**：保護用戶資料和隱私。

---

## 系統軟體環境需求

- **操作系統**：Linux（Ubuntu 20.04 LTS 或以上）
- **伺服器環境**：Node.js 或 Python
- **資料庫**：MongoDB 或 MySQL
- **Web 伺服器**：Nginx 作為反向代理
- **其他依賴**：
  - **Redis**：用於任務隊列
  - **Docker**：容器化部署
  - **SSL/TLS 證書**：使用免費的 **Let's Encrypt** 確保 HTTPS 安全通信

---

## 技術規格

### 6.1 前端技術

- **語言與框架**：
  - **HTML5、CSS3、JavaScript**
  - **前端框架**：React.js 或 Vue.js
- **狀態管理**：Redux 或 Vuex
- **路由管理**：React Router 或 Vue Router
- **UI 框架**：Ant Design、Material-UI 或 Element UI
- **錄音功能**：使用瀏覽器的 Web Audio API 和 MediaRecorder API
- **文件上傳**：使用 axios 或 fetch API
- **實時通信**：Socket.IO
- **圖表展示**：ECharts、Chart.js 或 D3.js

### 6.2 後端技術

- **語言與框架**：
  - **Node.js**：使用 Express.js 框架
  - **Python**：使用 Django 或 Flask 框架
- **資料庫**：MongoDB 或 MySQL
- **語音轉文字（STT）**：
  - **工具**：Mozilla DeepSpeech、Kaldi 或其他開源 STT 工具
- **大型語言模型（LLM）**：
  - **模型**：GPT-J、GPT-Neo 或其他開源模型
- **任務隊列**：使用 Celery（Python）或 Bull（Node.js）
- **日誌與監控**：使用 ELK 堆疊（Elasticsearch、Logstash、Kibana）
- **安全與加密**：
  - **身份驗證**：JWT（JSON Web Token）
  - **密碼加密**：bcrypt
  - **傳輸安全**：HTTPS（SSL/TLS）

---

## 安全性與隱私保護

- **資料傳輸安全**：使用 HTTPS 加密所有網絡傳輸。
- **資料存儲安全**：敏感資料加密存儲，語音和文字資料匿名化。
- **訪問控制**：嚴格的權限控制機制。
- **法律合規**：符合《個人資料保護法》等相關法律法規。

---

## 部署與運維

- **容器化**：使用 Docker 容器化應用。
- **持續整合/持續部署（CI/CD）**：使用 Jenkins、GitLab CI 或 GitHub Actions。
- **伺服器**：使用自有伺服器或免費的雲服務，如 Heroku 的免費方案。
- **負載均衡**：使用 Nginx 或 HAProxy。
- **監控與告警**：使用 Zabbix、Prometheus 和 Grafana。

---

## 風險評估與緩解措施

- **LLM 回饋偏離教學目標**
  - **緩解措施**：預先設定 LLM 的回饋範圍，設計嚴謹的 Prompt，引導 LLM 產生符合教學目標的內容。

- **系統性能問題**
  - **緩解措施**：性能測試和優化，使用任務隊列，合理分配資源，確保在增加教案分析的情況下系統穩定運行。

- **數據安全與隱私洩露**
  - **緩解措施**：加強安全措施，定期安全審計，對教案和學生討論內容進行嚴格的訪問控制。

---

## 開發計畫與里程碑

### 第一階段（週 1-2）

- **需求分析與規劃**
- **資料庫設計**
- **用戶認證模組開發**

### 第二階段（週 3-4）

- **API 開發**
- **文件上傳與存儲功能**

### 第三階段（週 5-6）

- **語音轉文字整合**
- **任務隊列搭建**
- **教案上傳與文本提取功能開發**

### 第四階段（週 7-9）

- **LLM 整合**
  - **開發分析與回饋生成模組**
- **結果處理與存儲**

### 第五階段（週 10-11）

- **安全性加固**
- **性能優化**

### 第六階段（週 12-13）

- **部署測試環境**
- **Bug 修復與調整**

### 第七階段（週 14）

- **上線準備**

### 第八階段（週 15-16）

- **試點運行**
- **反饋處理與優化**

### 第九階段（週 17）

- **正式部署**

---
