# ğŸŒ¸ å¿ƒèªå°é® (Heart Whisper Town)

> ä¸€å€‹çµåˆ AI æ™ºèƒ½èˆ‡æº«æš–ç™‚ç™’çš„å…ƒå®‡å®™éŠæˆ²ï¼Œè®“æ¯å€‹ NPC éƒ½æ“æœ‰ç¨ç‰¹çš„äººæ ¼èˆ‡æ·±åº¦è¨˜æ†¶ã€‚

[![TypeScript](https://img.shields.io/badge/TypeScript-5.2-blue)](https://www.typescriptlang.org/)
[![React](https://img.shields.io/badge/React-18.2-61dafb)](https://reactjs.org/)
[![Node.js](https://img.shields.io/badge/Node.js-18+-green)](https://nodejs.org/)
[![Gemini](https://img.shields.io/badge/Gemini-2.0--flash--exp-orange)](https://ai.google.dev/)

## âœ¨ å°ˆæ¡ˆç°¡ä»‹

**å¿ƒèªå°é®**æ˜¯ä¸€å€‹æ¬¡ä¸–ä»£çš„ AI é©…å‹•å…ƒå®‡å®™ç™‚ç™’éŠæˆ²ï¼Œèåˆäº†ï¼š

- ğŸ® **å‹•ç‰©æ£®å‹æœƒ**é¢¨æ ¼çš„å¯æ„›è¦–è¦ºèˆ‡æº«æš–æ°›åœ
- ğŸ¤– **æ·±åº¦ AI äººæ ¼ç³»çµ±** - æ¯å€‹ NPC éƒ½æœ‰ç¨ç‰¹çš„å€‹æ€§ã€è¨˜æ†¶èˆ‡æˆé•·è»Œè·¡
- ğŸ§  **çŸ¥è­˜ç®¡ç†ç³»çµ±** - ç©å®¶çš„æƒ³æ³•ã€å°è©±éƒ½è¢«æ™ºèƒ½æ•´ç†èˆ‡é—œè¯
- ğŸ’¬ **è‡ªç„¶èªè¨€äº’å‹•** - é€é Google Gemini 2.0 å¯¦ç¾æµæš¢çš„å°è©±é«”é©—
- ğŸŒˆ **æƒ…ç·’å…±é³´æ©Ÿåˆ¶** - NPC æœƒè¨˜ä½ä½ çš„æƒ…ç·’ï¼Œä¸¦åœ¨æœªä¾†çš„äº’å‹•ä¸­å±•ç¾åŒç†å¿ƒ

## ğŸ¯ æ ¸å¿ƒç‰¹è‰²

### 1. ğŸ¤– AI åŠ©æ‰‹åœ˜éšŠç³»çµ±

éŠæˆ²ä¸­æœ‰ 8 ä½å„å…·ç‰¹è‰²çš„ AI åŠ©æ‰‹ï¼š

| åŠ©æ‰‹ | ç‰¹è‰² | åŠŸèƒ½ |
|------|------|------|
| ğŸ± **å‘‚è²ç†™ (Shiropu)** | ç¸½é•· | åœ˜éšŠç®¡ç†èˆ‡æ±ºç­–å”èª¿ |
| ğŸ° **ç™½å™—å™— (Hijiki)** | çŸ¥è­˜ç®¡ç† | RAG çŸ¥è­˜æª¢ç´¢èˆ‡è¨˜æ†¶æ•´ç† |
| ğŸŒ¸ **Tororo** | æƒ…ç·’ç™‚ç™’ | é™ªä¼´å°è©±èˆ‡å¿ƒç†æ”¯æŒ |
| ğŸ“š **å…¶ä»–åŠ©æ‰‹** | å„å¸å…¶è· | ä»»å‹™åˆ†é…ã€åˆ†æã€åŸ·è¡Œ |

### 2. ğŸ’­ æ™ºèƒ½çŸ¥è­˜ç®¡ç†

- **è‡ªå‹•æ‘˜è¦èˆ‡æ¨™ç±¤** - AI è‡ªå‹•åˆ†æå°è©±å…§å®¹ï¼Œæå–é—œéµé‡é»
- **é‡è¦æ€§è©•åˆ†** - æ ¹æ“šæƒ…ç·’å¼·åº¦èˆ‡å…§å®¹åƒ¹å€¼è‡ªå‹•è©•åˆ† (1-10)
- **ç›¸é—œè¨˜æ†¶é€£çµ** - æ™ºèƒ½é—œè¯ç›¸ä¼¼çš„è¨˜æ†¶ç‰‡æ®µ
- **å¤šæ¨¡æ…‹æ”¯æ´** - æ–‡å­—ã€åœ–ç‰‡ã€é€£çµçµ±ä¸€ç®¡ç†

### 3. ğŸŒ 3D äº’å‹•ä¸–ç•Œ

- **React Three Fiber** æ‰“é€ çš„æ²‰æµ¸å¼ 3D ç’°å¢ƒ
- **Live2D** å‹•æ…‹è§’è‰²è¡¨æƒ…èˆ‡å‹•ä½œ
- **å³¶å¶¼æ¢ç´¢ç³»çµ±** - æ¯å€‹åŠ©æ‰‹éƒ½æœ‰ç¨ç«‹çš„å±…ä½å³¶å¶¼
- **å¯¦æ™‚å¤©æ°£èˆ‡æ—¥å¤œå¾ªç’°**

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Frontend (React + Three.js)           â”‚
â”‚     â€¢ 3D Island View (React Three Fiber)        â”‚
â”‚     â€¢ Knowledge Database UI (Tailwind)          â”‚
â”‚     â€¢ Real-time Chat (Socket.IO)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ GraphQL + WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Backend (Node.js + Express)            â”‚
â”‚     â€¢ Apollo GraphQL Server                     â”‚
â”‚     â€¢ Multi-Agent Orchestration                 â”‚
â”‚     â€¢ Memory & Knowledge Management             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ API Calls
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          AI Layer (Google Gemini)               â”‚
â”‚     â€¢ gemini-2.0-flash-exp                      â”‚
â”‚     â€¢ Personality Prompts                       â”‚
â”‚     â€¢ RAG (Retrieval-Augmented Generation)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Database (PostgreSQL + Redis)            â”‚
â”‚     â€¢ User Data & Conversations                 â”‚
â”‚     â€¢ NPC Memories & Relationships              â”‚
â”‚     â€¢ Vector Store (pgvector)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å‰ç½®éœ€æ±‚

- **Node.js** >= 18.0.0
- **PostgreSQL** >= 14 (æˆ–ä½¿ç”¨ Docker)
- **Redis** (é¸ç”¨ï¼Œç”¨æ–¼å¿«å–)
- **Google Gemini API Key** ([ç”³è«‹é€£çµ](https://ai.google.dev/))

### 1. å…‹éš†å°ˆæ¡ˆ

```bash
git clone https://github.com/your-username/TAHRD-Graduation-Project.git
cd TAHRD-Graduation-Project
```

### 2. ç’°å¢ƒè®Šæ•¸è¨­å®š

åœ¨ `backend/.env` å»ºç«‹æª”æ¡ˆï¼š

```env
# å¿…å¡«
GEMINI_API_KEY="your-gemini-api-key-here"
DATABASE_URL="postgresql://user:password@localhost:5432/heart_whisper_town"

# é¸å¡«
REDIS_URL="redis://localhost:6379"
JWT_SECRET="your-jwt-secret"
NODE_ENV="development"
```

### 3. å®‰è£ä¾è³´

```bash
# å®‰è£å‰å¾Œç«¯ä¾è³´
npm install

# æˆ–åˆ†åˆ¥å®‰è£
cd backend && npm install
cd ../frontend && npm install
```

### 4. è³‡æ–™åº«è¨­å®š

```bash
cd backend

# ç”Ÿæˆ Prisma Client
npm run db:generate

# æ¨é€ Schema åˆ°è³‡æ–™åº«
npm run db:push

# (é¸ç”¨) å¡«å……åˆå§‹è³‡æ–™
npm run db:seed
```

### 5. å•Ÿå‹•æœå‹™

#### æ–¹å¼ 1: ä½¿ç”¨å•Ÿå‹•è…³æœ¬ (æ¨è–¦)

```bash
./start-knowledge-system.sh
```

#### æ–¹å¼ 2: æ‰‹å‹•å•Ÿå‹•

```bash
# Terminal 1 - å¾Œç«¯
cd backend
npm run dev

# Terminal 2 - å‰ç«¯
cd frontend
npm run dev
```

### 6. è¨ªå•æ‡‰ç”¨

- ğŸŒ **å‰ç«¯**: http://localhost:3000
- ğŸ“š **çŸ¥è­˜è³‡æ–™åº«**: http://localhost:3000/database
- ğŸ”Œ **GraphQL Playground**: http://localhost:4000/graphql
- ğŸ¥ **å¥åº·æª¢æŸ¥**: http://localhost:4000/health

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
TAHRD-Graduation-Project/
â”œâ”€â”€ backend/                    # Node.js å¾Œç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ agents/            # AI åŠ©æ‰‹é‚è¼¯
â”‚   â”‚   â”œâ”€â”€ resolvers/         # GraphQL Resolvers
â”‚   â”‚   â”œâ”€â”€ services/          # æ¥­å‹™é‚è¼¯å±¤
â”‚   â”‚   â”‚   â”œâ”€â”€ chiefAgentService.ts    # ç¸½é•·å”èª¿
â”‚   â”‚   â”‚   â”œâ”€â”€ hijikiService.ts        # çŸ¥è­˜ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ ragConversation.ts      # RAG å°è©±
â”‚   â”‚   â”‚   â””â”€â”€ vectorService.ts        # å‘é‡æª¢ç´¢
â”‚   â”‚   â”œâ”€â”€ schema.ts          # GraphQL Schema
â”‚   â”‚   â””â”€â”€ index.ts           # æœå‹™å…¥å£
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”œâ”€â”€ schema.prisma      # è³‡æ–™åº« Schema
â”‚   â”‚   â””â”€â”€ seed.ts            # åˆå§‹åŒ–è³‡æ–™
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ frontend/                   # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ 3D/           # Three.js 3D çµ„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ CatChat/      # èŠå¤©çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ IslandView/   # å³¶å¶¼è¦–åœ–
â”‚   â”‚   â”‚   â””â”€â”€ KnowledgeDatabase/  # çŸ¥è­˜åº«
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ tororoAI.ts   # AI æœå‹™å°è£
â”‚   â”‚   â””â”€â”€ graphql/          # GraphQL Queries
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ .gitignore
â”œâ”€â”€ start-knowledge-system.sh  # ä¸€éµå•Ÿå‹•è…³æœ¬
â””â”€â”€ README.md
```

## ğŸ® ä½¿ç”¨æŒ‡å—

### çŸ¥è­˜ç®¡ç†ç³»çµ±

1. **æ–°å¢è¨˜æ†¶**
   - é»æ“Šå³ä¸‹è§’ã€Œâœ¨ã€æµ®å‹•æŒ‰éˆ•
   - è¼¸å…¥å…§å®¹ï¼ŒAI æœƒè‡ªå‹•åˆ†æä¸¦æ·»åŠ æ¨™ç±¤

2. **æŸ¥çœ‹è¨˜æ†¶**
   - Grid è¦–åœ–ï¼šå¡ç‰‡å¼å±•ç¤ºï¼Œé©åˆç€è¦½
   - List è¦–åœ–ï¼šåˆ—è¡¨å¼å±•ç¤ºï¼Œé©åˆå¿«é€Ÿæƒæ

3. **ç¯©é¸èˆ‡æ’åº**
   - ä¾åŠ©æ‰‹åˆ†é¡ç¯©é¸
   - é»æ“Šã€ŒğŸ”§ é€²éšç¯©é¸ã€å±•é–‹æ›´å¤šé¸é …

4. **é‡˜é¸é‡è¦è¨˜æ†¶**
   - é»æ“Šå¡ç‰‡ä¸Šçš„ ğŸ“Œ åœ–æ¨™
   - é‡˜é¸çš„è¨˜æ†¶æœƒå›ºå®šåœ¨æœ€ä¸Šæ–¹

### AI å°è©±ç³»çµ±

1. **èˆ‡åŠ©æ‰‹èŠå¤©**
   - é»æ“Šå³¶å¶¼ä¸Šçš„ NPC
   - é–‹å§‹è‡ªç„¶èªè¨€å°è©±

2. **çŸ¥è­˜æª¢ç´¢**
   - è©¢å•ã€Œæˆ‘ä¹‹å‰èªªéä»€éº¼ï¼Ÿã€
   - Hijiki æœƒé€é RAG æª¢ç´¢ç›¸é—œè¨˜æ†¶

3. **æƒ…ç·’æ”¯æŒ**
   - èˆ‡ Tororo åˆ†äº«å¿ƒæƒ…
   - ç²å¾—æº«æš–çš„å›æ‡‰èˆ‡å»ºè­°

## ğŸ› ï¸ é–‹ç™¼

### å¯ç”¨è…³æœ¬

#### å¾Œç«¯
```bash
npm run dev          # é–‹ç™¼æ¨¡å¼ï¼ˆhot reloadï¼‰
npm run build        # ç·¨è­¯ TypeScript
npm run start        # ç”Ÿç”¢æ¨¡å¼
npm run db:generate  # ç”Ÿæˆ Prisma Client
npm run db:push      # åŒæ­¥è³‡æ–™åº« Schema
npm run db:migrate   # åŸ·è¡Œè³‡æ–™åº«é·ç§»
npm run lint         # ESLint æª¢æŸ¥
npm run test         # åŸ·è¡Œæ¸¬è©¦
```

#### å‰ç«¯
```bash
npm run dev          # é–‹ç™¼æ¨¡å¼ï¼ˆVite HMRï¼‰
npm run build        # ç”Ÿç”¢æ‰“åŒ…
npm run preview      # é è¦½ç”Ÿç”¢ç‰ˆæœ¬
npm run lint         # ESLint æª¢æŸ¥
npm run test         # åŸ·è¡Œæ¸¬è©¦
```

### Hot Reload

- âœ… **å¾Œç«¯**: ä½¿ç”¨ `nodemon`ï¼Œä¿®æ”¹ `.ts` æª”æ¡ˆè‡ªå‹•é‡å•Ÿ
- âœ… **å‰ç«¯**: ä½¿ç”¨ Vite HMRï¼Œä¿®æ”¹å³æ™‚æ›´æ–°

## ğŸ§ª æ¸¬è©¦

```bash
# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
npm run test

# å¾Œç«¯æ¸¬è©¦
cd backend && npm run test

# å‰ç«¯æ¸¬è©¦
cd frontend && npm run test
```

## ğŸ“Š è³‡æ–™åº« Schema

### ä¸»è¦æ¨¡å‹

- **User** - ä½¿ç”¨è€…å¸³è™Ÿ
- **Memory** - çŸ¥è­˜è¨˜æ†¶ç‰‡æ®µ
- **Assistant** - AI åŠ©æ‰‹è³‡æ–™
- **Conversation** - å°è©±ç´€éŒ„
- **Island** - 3D å³¶å¶¼é…ç½®

è©³ç´° Schema è«‹åƒè€ƒ `backend/prisma/schema.prisma`

## ğŸ”§ ç’°å¢ƒè®Šæ•¸èªªæ˜

| è®Šæ•¸ | å¿…å¡« | èªªæ˜ | é è¨­å€¼ |
|------|------|------|--------|
| `GEMINI_API_KEY` | âœ… | Google Gemini API Key | - |
| `DATABASE_URL` | âœ… | PostgreSQL é€£æ¥å­—ä¸² | - |
| `REDIS_URL` | âŒ | Redis é€£æ¥å­—ä¸² | - |
| `JWT_SECRET` | âœ… | JWT åŠ å¯†å¯†é‘° | - |
| `NODE_ENV` | âŒ | åŸ·è¡Œç’°å¢ƒ | `development` |
| `PORT` | âŒ | å¾Œç«¯æœå‹™åŸ è™Ÿ | `4000` |
| `MCP_SERVICE_URL` | âŒ | MCP ä¼ºæœå™¨ URL | `http://localhost:8765` |
| `USE_GEMINI_CLI` | âŒ | å•Ÿç”¨ Gemini CLI æ¨¡å¼ | `true` |

## ğŸš€ ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²

### Docker éƒ¨ç½²ï¼ˆæ¨è–¦ï¼‰

```bash
# 1. å…‹éš†å°ˆæ¡ˆ
git clone https://github.com/your-username/TAHRD-Graduation-Project.git
cd TAHRD-Graduation-Project

# 2. é…ç½®ç’°å¢ƒè®Šæ•¸
cp backend/.env.example backend/.env.production
# ç·¨è¼¯ .env.production å¡«å…¥å¯¦éš›é…ç½®

# 3. ä½¿ç”¨ Docker Compose éƒ¨ç½²
docker-compose -f docker-compose.production.yml up -d --build

# 4. æŸ¥çœ‹æœå‹™ç‹€æ…‹
docker-compose -f docker-compose.production.yml ps
```

### å¿«é€Ÿéƒ¨ç½²è…³æœ¬

```bash
# ä¸€éµéƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ
./deploy.sh

# æŸ¥çœ‹æœå‹™ç‹€æ…‹
./deploy.sh status

# æŸ¥çœ‹æ—¥èªŒ
./deploy.sh logs

# å›æ»¾åˆ°ä¸Šä¸€å€‹ç‰ˆæœ¬
./deploy.sh rollback
```

### SSL/HTTPS é…ç½®

å°ˆæ¡ˆæ”¯æ´ Cloudflare Origin Certificateï¼š

```bash
# ç”Ÿæˆ SSL è­‰æ›¸ï¼ˆä½¿ç”¨ Cloudflareï¼‰
./setup-ssl.sh

# è­‰æ›¸å°‡å®‰è£åˆ°
# nginx/ssl/cloudflare-origin.pem
```

**Cloudflare è¨­å®šå»ºè­°**ï¼š
1. **SSL æ¨¡å¼**: Full (strict)
2. **æœ€å° TLS ç‰ˆæœ¬**: 1.2
3. **HTTP/3 (QUIC)**: å·²å•Ÿç”¨
4. **Brotli å£“ç¸®**: å·²å•Ÿç”¨
5. **Always Use HTTPS**: å·²å•Ÿç”¨

### æ€§èƒ½å„ªåŒ–é…ç½®

#### Nginx å¿«å–è¨­å®š
```nginx
# éœæ…‹è³‡æºå¿«å–ï¼š1 å¹´
location ~* \.(jpg|jpeg|png|gif|ico|css|js|svg|woff|woff2)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
}

# API è«‹æ±‚ä¸å¿«å–
location /graphql {
    proxy_cache off;
    proxy_pass http://backend:4000;
}
```

#### Cloudflare å¿«å–è¦å‰‡

å»ºè­°ä½¿ç”¨ **Cache Rules**ï¼ˆå…è²» 10 å€‹ï¼‰è€Œé Page Rulesï¼ˆå…è²» 3 å€‹ï¼‰ï¼š

**éœæ…‹è³‡æºè¦å‰‡**ï¼š
- **æ¢ä»¶**: æª”æ¡ˆå‰¯æª”åç‚º `(css|js|jpg|png|gif|svg|woff|woff2|ttf|ico|webp)`
- **å‹•ä½œ**: 
  - Browser Cache TTL: 1 å¹´
  - Edge Cache TTL: 1 å€‹æœˆ

**API ç¹éè¦å‰‡**ï¼š
- **æ¢ä»¶**: URI Path ç­‰æ–¼ `/graphql`
- **å‹•ä½œ**: Bypass cache

### å¥åº·æª¢æŸ¥

éƒ¨ç½²å¾Œè«‹é©—è­‰ä»¥ä¸‹é …ç›®ï¼š

```bash
# 1. HTTPS è¨ªå•
curl -I https://your-domain.com

# 2. å¥åº·æª¢æŸ¥
curl https://your-domain.com/health

# 3. GraphQL API
curl -X POST https://your-domain.com/graphql \
  -H "Content-Type: application/json" \
  -d '{"query":"{__typename}"}'

# 4. WebSocket é€£æ¥
# åœ¨ç€è¦½å™¨é–‹ç™¼è€…å·¥å…·ä¸­æª¢æŸ¥ WS é€£æ¥
```

### ç›£æ§èˆ‡ç¶­è­·

#### æŸ¥çœ‹æ—¥èªŒ
```bash
# æ‰€æœ‰æœå‹™æ—¥èªŒ
docker-compose -f docker-compose.production.yml logs -f

# ç‰¹å®šæœå‹™æ—¥èªŒ
docker-compose -f docker-compose.production.yml logs -f nginx
docker-compose -f docker-compose.production.yml logs -f backend
docker-compose -f docker-compose.production.yml logs -f frontend
```

#### å®šæœŸç¶­è­·
```bash
# æ¯é€±åŸ·è¡Œ
docker system prune -f              # æ¸…ç†æœªä½¿ç”¨çš„ Docker è³‡æº
docker volume prune -f              # æ¸…ç†æœªä½¿ç”¨çš„å·

# æ¯æœˆåŸ·è¡Œ
docker-compose -f docker-compose.production.yml pull  # æ›´æ–°æ˜ åƒ
docker-compose -f docker-compose.production.yml up -d --build  # é‡å»ºæœå‹™
```

### æ•…éšœæ’æŸ¥

#### å•é¡Œï¼šç„¡æ³•è¨ªå• HTTPS
```bash
# æª¢æŸ¥ Nginx é…ç½®
docker-compose -f docker-compose.production.yml exec nginx nginx -t

# æª¢æŸ¥ SSL è­‰æ›¸
ls -la nginx/ssl/

# é‡å•Ÿ Nginx
docker-compose -f docker-compose.production.yml restart nginx
```

#### å•é¡Œï¼š502 Bad Gateway
```bash
# æª¢æŸ¥å¾Œç«¯ç‹€æ…‹
docker-compose -f docker-compose.production.yml ps backend

# æŸ¥çœ‹å¾Œç«¯æ—¥èªŒ
docker-compose -f docker-compose.production.yml logs backend

# é‡å•Ÿå¾Œç«¯
docker-compose -f docker-compose.production.yml restart backend
```

#### å•é¡Œï¼šéœæ…‹è³‡æº 404
```bash
# æª¢æŸ¥å‰ç«¯æ§‹å»º
docker-compose -f docker-compose.production.yml logs frontend

# é‡æ–°æ§‹å»ºå‰ç«¯
docker-compose -f docker-compose.production.yml up -d --build frontend
```

æ›´å¤šè©³ç´°éƒ¨ç½²è³‡è¨Šï¼Œè«‹åƒè€ƒ [FEATURES.md](FEATURES.md) ä¸­çš„ MCP æ¶æ§‹ç³»çµ±ç« ç¯€

## ğŸ› ç–‘é›£æ’è§£

### å¾Œç«¯ç„¡æ³•é€£æ¥è³‡æ–™åº«

1. ç¢ºèª PostgreSQL æœå‹™å·²å•Ÿå‹•
2. æª¢æŸ¥ `DATABASE_URL` æ ¼å¼æ˜¯å¦æ­£ç¢º
3. åŸ·è¡Œ `npm run db:push` åŒæ­¥ Schema

### Gemini API éŒ¯èª¤

1. ç¢ºèª API Key æœ‰æ•ˆä¸”æœ‰è¶³å¤ é…é¡
2. æª¢æŸ¥ `.env` ä¸­ `GEMINI_API_KEY` æ˜¯å¦åŒ…å«å¼•è™Ÿ
3. æŸ¥çœ‹ `backend/logs/backend.log` å–å¾—è©³ç´°éŒ¯èª¤

### å‰ç«¯ç„¡æ³•è¼‰å…¥è³‡æ–™

1. ç¢ºèªå¾Œç«¯æœå‹™å·²å•Ÿå‹•ï¼ˆhttp://localhost:4000/healthï¼‰
2. æª¢æŸ¥ç€è¦½å™¨ Console æ˜¯å¦æœ‰ CORS éŒ¯èª¤
3. æ¸…é™¤ç€è¦½å™¨å¿«å–ä¸¦ç¡¬åˆ·æ–°ï¼ˆCtrl+Shift+Rï¼‰

## ğŸ¤ è²¢ç»æŒ‡å—

æˆ‘å€‘æ­¡è¿æ‰€æœ‰å½¢å¼çš„è²¢ç»ï¼

1. Fork å°ˆæ¡ˆ
2. å»ºç«‹ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤è®Šæ›´ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. é–‹å•Ÿ Pull Request

## ğŸ“ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Š - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

## ğŸ‘¥ åœ˜éšŠ

**å¿ƒèªå°é®é–‹ç™¼åœ˜éšŠ** - TAHRD ç•¢æ¥­å°ˆé¡Œ

## ğŸ™ è‡´è¬

- [Google Gemini](https://ai.google.dev/) - AI å°è©±å¼•æ“
- [React Three Fiber](https://docs.pmnd.rs/react-three-fiber/) - 3D æ¸²æŸ“æ¡†æ¶
- [Prisma](https://www.prisma.io/) - ç¾ä»£åŒ– ORM
- [Apollo GraphQL](https://www.apollographql.com/) - GraphQL å¯¦ä½œ
- æ‰€æœ‰é–‹æºç¤¾ç¾¤çš„è²¢ç»è€…å€‘

## ğŸ“® è¯çµ¡æ–¹å¼

å¦‚æœ‰ä»»ä½•å•é¡Œæˆ–å»ºè­°ï¼Œæ­¡è¿é€éä»¥ä¸‹æ–¹å¼è¯çµ¡ï¼š

- ğŸ“§ Email: your-email@example.com
- ğŸ› Issues: [GitHub Issues](https://github.com/your-username/TAHRD-Graduation-Project/issues)

---

ğŸ’– ç”¨æ„›èˆ‡ç§‘æŠ€æ‰“é€ çš„æº«æš–å°é®ï¼Œæ­¡è¿ä¾†ç©ï¼
